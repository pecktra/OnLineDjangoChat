{% extends 'room_v3.html' %}
{% load static %}

{% block content %}
<div class="feeds-container">

    <div class="feeds-content">
        <!-- 示例信息流条目 -->
        <div class="feed-item">
            <div class="feed-header">
                <div class="feed-avatar">
                    <img src="{% static 'images/placeholder.jpg' %}" alt="头像" class="avatar-img">
                </div>
                <div class="feed-info">
                    <h2 class="feed-main-title">大标题 - 这里是主要内容标题</h2>
                    <h3 class="feed-sub-title">小标题 - 这里是副标题或分类</h3>
                    <p class="feed-description">这里是简介内容，简要描述这个信息的主要内容...</p>
                </div>
            </div>
            <div class="feed-content">
                <div class="feed-body">
                    <p>这里是详细的内容区域，可以包含更多的文字描述、链接或其他内容。用户可以在这里看到完整的信息内容。</p>
                </div>
                <div class="feed-actions">
                    <span class="action-icon branch-btn" data-action="branch" data-tooltip="Branch">
                        <svg viewBox="0 0 384 512" class="branch-icon">
                            <path fill="#ffffff" d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/>
                        </svg>
                    </span>
                    <span class="action-icon follow2-btn" data-action="favourite" data-tooltip="Favourite">
                        <svg viewBox="0 0 24 24" class="star-icon">
                            <path fill="#ffffff" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                        </svg>
                    </span>
                    <span class="action-icon subscription-btn" data-action="subscription" data-tooltip="Subscription">
                        <svg viewBox="0 0 24 24" class="heart-icon">
                            <path fill="#ffffff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                    </span>
                </div>
            </div>
        </div>

        <!-- 第二个示例条目 -->
        <div class="feed-item">
            <div class="feed-header">
                <div class="feed-avatar">
                    <img src="{% static 'images/placeholder.jpg' %}" alt="头像" class="avatar-img">
                </div>
                <div class="feed-info">
                    <h2 class="feed-main-title">另一个大标题</h2>
                    <h3 class="feed-sub-title">另一个小标题</h3>
                    <p class="feed-description">这是另一个条目的简介内容...</p>
                </div>
            </div>
            <div class="feed-content">
                <div class="feed-body">
                    <p>这是另一个条目的详细内容，展示了信息流的多样性。</p>
                </div>
                <div class="feed-actions">
                    <span class="action-icon branch-btn" data-action="branch" data-tooltip="Branch">
                        <svg viewBox="0 0 384 512" class="branch-icon">
                            <path fill="#ffffff" d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/>
                        </svg>
                    </span>
                    <span class="action-icon follow2-btn" data-action="favourite" data-tooltip="Favourite">
                        <svg viewBox="0 0 24 24" class="star-icon">
                            <path fill="#ffffff" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                        </svg>
                    </span>
                    <span class="action-icon subscription-btn" data-action="subscription" data-tooltip="Subscription">
                        <svg viewBox="0 0 24 24" class="heart-icon">
                            <path fill="#ffffff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                    </span>
                </div>
            </div>
        </div>

        <!-- 第三个示例条目 -->
        <div class="feed-item">
            <div class="feed-header">
                <div class="feed-avatar">
                    <img src="{% static 'images/placeholder.jpg' %}" alt="头像" class="avatar-img">
                </div>
                <div class="feed-info">
                    <h2 class="feed-main-title">第三个大标题</h2>
                    <h3 class="feed-sub-title">第三个小标题</h3>
                    <p class="feed-description">第三个条目的简介内容...</p>
                </div>
            </div>
            <div class="feed-content">
                <div class="feed-body">
                    <p>第三个条目的详细内容，继续展示信息流的设计效果。</p>
                </div>
                <div class="feed-actions">
                    <span class="action-icon branch-btn" data-action="branch" data-tooltip="Branch">
                        <svg viewBox="0 0 384 512" class="branch-icon">
                            <path fill="#ffffff" d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4 24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2 2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0 35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8 80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2-8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9 31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"/>
                        </svg>
                    </span>
                    <span class="action-icon follow2-btn" data-action="favourite" data-tooltip="Favourite">
                        <svg viewBox="0 0 24 24" class="star-icon">
                            <path fill="#ffffff" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                        </svg>
                    </span>
                    <span class="action-icon subscription-btn" data-action="subscription" data-tooltip="Subscription">
                        <svg viewBox="0 0 24 24" class="heart-icon">
                            <path fill="#ffffff" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                        </svg>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.feeds-container {
    margin: 0 auto;
    padding: 20px;
    min-height: 100dvh;
}

.feeds-header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px 0;
}

.feeds-content {
    max-width: 800px;
    margin: 0 auto;
    overflow-y: scroll;
    height: 100%;
}

.feed-item {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 10px;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.feed-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.feed-header {
    display: flex;
    align-items: flex-start;
    padding: 20px 25px 15px 25px;
    gap: 15px;
}

.feed-avatar {
    flex-shrink: 0;
}

.avatar-img {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #e9ecef;
    transition: transform 0.2s ease;
}

.feed-item:hover .avatar-img {
    transform: scale(1.05);
}

.feed-info {
    flex: 1;
    min-width: 0;
}

.feed-content {
    padding: 0 25px 25px 25px;
}

.feed-main-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 4px;
    line-height: 1.3;
}

.feed-sub-title {
    font-size: 0.9rem;
    color: #3498db;
    margin-bottom: 6px;
    font-weight: 500;
}

.feed-description {
    font-size: 0.85rem;
    color: #6c757d;
    margin-bottom: 0;
    line-height: 1.4;
}

.feed-body {
    margin-bottom: 20px;
}

.feed-body p {
    font-size: 0.9rem;
    color: #666;
    line-height: 1.6;
    margin: 0;
}

.feed-actions {
    display: flex;
    justify-content: space-between;
    padding-top: 15px;
    border-top: 1px solid #eee;
}

.action-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    flex: 1;
    margin: 0 5px;
    position: relative;
}

.action-icon svg {
    width: 24px;
    height: 24px;
    transition: transform 0.2s ease;
}

.action-icon:hover svg {
    transform: scale(1.2);
}

.branch-icon {
    opacity: 0.8;
}

.star-icon {
    opacity: 0.8;
}

.heart-icon {
    opacity: 0.8;
}

.action-icon:hover .branch-icon,
.action-icon:hover .star-icon,
.action-icon:hover .heart-icon {
    opacity: 1;
}

/* 响应式设计 */
@media (max-width: 768px) {
    .feeds-container {
        margin-left: 0;
        padding: 15px;
    }

    .feed-header {
        padding: 15px 20px 10px 20px;
        gap: 12px;
    }

    .avatar-img {
        width: 45px;
        height: 45px;
    }

    .feed-content {
        padding: 0 20px 20px 20px;
    }

    .feed-main-title {
        font-size: 1rem;
    }

    .feed-sub-title {
        font-size: 0.85rem;
    }

    .feed-description {
        font-size: 0.8rem;
    }

    .feed-actions {
        flex-wrap: nowrap;
        gap: 5px;
    }

    .action-btn {
        flex: 1;
        min-width: 35px;
        height: 35px;
        margin: 0 2px;
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .feeds-container {
        padding: 10px;
    }

    .feed-header {
        padding: 12px 15px 8px 15px;
        gap: 10px;
    }

    .avatar-img {
        width: 40px;
        height: 40px;
    }

    .feed-content {
        padding: 0 15px 15px 15px;
    }

    .feed-main-title {
        font-size: 0.95rem;
    }

    .feed-sub-title {
        font-size: 0.8rem;
    }

    .feed-description {
        font-size: 0.75rem;
    }

    .action-btn {
        flex: 1;
        min-width: 30px;
        height: 30px;
        margin: 0 1px;
        font-size: 0.9rem;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // 为所有操作图标添加点击事件
    const actionIcons = document.querySelectorAll('.action-icon');

    actionIcons.forEach(icon => {
        icon.addEventListener('click', function() {
            const action = this.getAttribute('data-action');
            const feedItem = this.closest('.feed-item');

            // 这里可以添加具体的操作逻辑
            console.log(`执行操作: ${action}`, feedItem);

            // 示例：添加点击效果
            const svg = this.querySelector('svg');
            svg.style.transform = 'scale(0.9)';
            setTimeout(() => {
                svg.style.transform = '';
            }, 150);

            // 根据不同的操作显示不同的反馈
            switch(action) {
                case 'branch':
                    // 分支逻辑
                    break;
                case 'favourite':
                    // 收藏逻辑
                    break;
                case 'subscription':
                    // 订阅逻辑
                    break;
            }
        });
    });
});
</script>
{% endblock %}
