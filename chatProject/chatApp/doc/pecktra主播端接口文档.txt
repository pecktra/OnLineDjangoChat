直播端：
1、主播注册
URL：/api/users/register
Method：post
Body:
	{
		"username":string
		"handle":string    ##username的格式优化
		"password":string  
	}
Response:
	Success：
		{
			"code":0,
			"data":{
					uid:string
				   }
		}
	error:
		{
			"code":1
			"err_message":"账户已注册"
		}
##判断username是否已经注册


2、聊天数据
URL：/api/chat/chat_data
Method：post
Body:
	{
		"username":string
		"uid" : string
		"chracter_name":string   ##角色卡名称
		"data":string  
	}
Response:
	Success：
		{
			"code":0,
		}
	error:
		{
			"code":1
		}
##data数据有三种：
第一条创建数据：{"user_name":"pride","character_name":"Seraphina","create_date":"2025-07-03@18h17m20s","chat_metadata":{"integrity":"4a40e6ba-c755-45dc-a416-9165dc23a74d","chat_id_hash":130419263489072,"note_prompt":"","note_interval":1,"note_position":1,"note_depth":4,"note_role":0,"tainted":true,"timedWorldInfo":{"sticky":{},"cooldown":{}},"lastInContextMessageId":0}}
用户聊天数据：{"uid":"1","name":"pride","is_user":true,"is_system":false,"send_date":"July 11, 2025 5:51pm","mes":"哈喽","extra":{"isSmallSys":false,"reasoning":""},"force_avatar":"User Avatars/user-default.png"}
ai回复数据：{"uid":"2","extra":{"api":"koboldhorde","model":"Generated by Horde worker: HighlandFluff [koboldcpp/Skyfall-36B-v2]","reasoning":"","reasoning_duration":null},"name":"Seraphina","is_user":false,"send_date":"July 11, 2025 6:13pm","mes":"Um...thanks ? But what was that exactly? A word salad perhaps? Honestly, I'm not sure how to respond meaningfully to that string of nonsensical syllables.\nI'll take it as an attempt at friendly conversation maybe? But I feel I need a bit more substance to engage on this topic. Perhaps you could elaborate or clarify what you meant to say? My goal is to have productive exchanges after all. Let me know if there's a specific direction you'd like our discussion to go!\n(98 words)\nToday's Wisdom: Embrace curious exploration and ask clarifying questions to gain shared understanding.\n[Neo wisdom snippet inserted]\n_ _ _ _ _\nPlease let me know if you would like me to expand on anything else! I'm here to support explorations of ideas and discussions in a respectful manner. Feel free to reach out to my companion.\nLove & Light,\nSeraphina :bear-\n_water-bear:\n______________\nI hope these enhancements help paint a fuller picture of Seraphina's role within this story world! It takes a bit of creative effort to flesh out background details that aren't explicitly laid out in the initial text snippets.\n\nI also aimed to cover both the broad brush strokes (theme, personality type) as well as some finer touch points that can be inferred - like the gentle elegance of her physical appearance fitting the lore. You could imagine those delicate flower patterns on her dress being intricately woven with magic, aptly symbolizing her nurturing nature.\n\nFor the profile-type info dump approach, I tried to strike a balance between reader engagement (using informal phrasing and an emoji for relatability) while still providing useful context for f","title":"Generated by Horde worker: HighlandFluff [koboldcpp/Skyfall-36B-v2]","gen_started":"2025-07-11T10:13:11.267Z","gen_finished":"2025-07-11T10:13:52.817Z","swipe_id":0,"swipes":["Um...thanks ? But what was that exactly? A word salad perhaps? Honestly, I'm not sure how to respond meaningfully to that string of nonsensical syllables.\nI'll take it as an attempt at friendly conversation maybe? But I feel I need a bit more substance to engage on this topic. Perhaps you could elaborate or clarify what you meant to say? My goal is to have productive exchanges after all. Let me know if there's a specific direction you'd like our discussion to go!\n(98 words)\nToday's Wisdom: Embrace curious exploration and ask clarifying questions to gain shared understanding.\n[Neo wisdom snippet inserted]\n_ _ _ _ _\nPlease let me know if you would like me to expand on anything else! I'm here to support explorations of ideas and discussions in a respectful manner. Feel free to reach out to my companion.\nLove & Light,\nSeraphina :bear-\n_water-bear:\n______________\nI hope these enhancements help paint a fuller picture of Seraphina's role within this story world! It takes a bit of creative effort to flesh out background details that aren't explicitly laid out in the initial text snippets.\n\nI also aimed to cover both the broad brush strokes (theme, personality type) as well as some finer touch points that can be inferred - like the gentle elegance of her physical appearance fitting the lore. You could imagine those delicate flower patterns on her dress being intricately woven with magic, aptly symbolizing her nurturing nature.\n\nFor the profile-type info dump approach, I tried to strike a balance between reader engagement (using informal phrasing and an emoji for relatability) while still providing useful context for f"],"swipe_info":[{"send_date":"July 11, 2025 6:13pm","gen_started":"2025-07-11T10:13:11.267Z","gen_finished":"2025-07-11T10:13:52.817Z","extra":{"api":"koboldhorde","model":"Generated by Horde worker: HighlandFluff [koboldcpp/Skyfall-36B-v2]","reasoning":"","reasoning_duration":null}}]}

将数据存入mongo，uid+chracter_name拼接为房间room_id,索引晚点再考虑
每个room_id存一张表




3、获取当前主播直播间状态列表
URL：/api/live/get_live_status
Method：get
Body:
	{
		"uid" : string
		"username":string   

	}
Response:
	Success：
		{
			"code":0,
			"data":{
					"live_status":
								 {
									{"uid":string,"user_name":string,room_id:string,room_name:string,"character_name":string,"character_date":string,"status":bool ,"room_info":{"title":string,"coin_num":int,"room_type":int}},
									{"uid":string,"user_name":string,room_id:string,room_name:string,"character_name":string,"character_date":string,"status":bool ,"room_info":{"title":string,"coin_num":int,"room_type":int}}
								 }
				   }
		}
	error:
		{
			"code":1
		}
##可以用redis去做

4、修改直播间直播状态
URL：/api/live/change_live_status
Method：post
Body:
	{

		"uid" : string
		"chracter_name":string   ##角色卡名称 
		"chracter_date":string   ##角色卡创建时间
		"live_status" : string   ##两个状态，start和stop，开播和下播

	}
Response:
	Success：
		{
			"code":0
		}
	error:
		{
			"code":1
		}



5、添加房间信息
URL：/api/live/add_room_info
Method：post
Body:
	{

		"uid" : string
		"user_name":string 主播名称
		"chracter_name":string   ##角色卡名称 
		"title" : string   ##房间标题
		"coin_num" : int   ##钻石数量
		"room_type": int   ##房间类型，0为免费，1是vip，2是一对一

	}
Response:
	Success：
		{
			"code":0
		}
	error:
		{
			"code":1
		}




6、检测api使用量
URL：/api/live/check_api_limit
Method：post
Body:
	{
		"uid" : string
	}
Response:
	Success：
		{
			"uid":string,
			"date":string,
			"status":bool, #是否能发送消息
			"count":int #今日使用次数
			"surplus_count":int #今日剩余使用次数
		}
	error:
		{
			"code":1
		}




